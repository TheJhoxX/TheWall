{"ast":null,"code":"var _jsxFileName = \"/Users/thejhoxx/proyectos/theWall/TheWall/client/src/components/PaginaPrincipal/PaginaPrincipal.js\";\nimport { Component } from \"react\";\nimport './PaginaPrincipal.css';\nimport Posts from '../Posts/Posts';\nimport FormularioPublicar from '../FormularioPublicar/FormularioPublicar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass PaginaPrincipal extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      posts: []\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3001/posts').then(response => response.json()).then(data => {\n      this.setState({\n        posts: data\n      });\n    }).catch(error => {\n      console.error('Error al obtener los posts:', error);\n    });\n  }\n  render() {\n    const publicarPost = post => {\n      fetch('http://localhost:3001/publicarPost', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(post)\n      }).then(response => response.json()).then(data => {\n        var newPosts = [data, ...this.state.posts];\n        this.setState({\n          posts: newPosts\n        });\n        alert('Post publicado correctamente');\n      }).catch(error => {\n        console.error('Error al publicar el post:', error);\n      });\n    };\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagina-principal\",\n      children: [/*#__PURE__*/_jsxDEV(Posts, {\n        posts: this.state.posts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormularioPublicar, {\n        publicarPost: publicarPost\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default PaginaPrincipal;","map":{"version":3,"names":["Component","Posts","FormularioPublicar","jsxDEV","_jsxDEV","PaginaPrincipal","constructor","arguments","state","posts","componentDidMount","fetch","then","response","json","data","setState","catch","error","console","render","publicarPost","post","method","headers","body","JSON","stringify","newPosts","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/thejhoxx/proyectos/theWall/TheWall/client/src/components/PaginaPrincipal/PaginaPrincipal.js"],"sourcesContent":["import { Component } from \"react\";\nimport './PaginaPrincipal.css'\nimport Posts from '../Posts/Posts'\nimport FormularioPublicar from '../FormularioPublicar/FormularioPublicar'\n\n\nclass PaginaPrincipal extends Component {\n    state = {\n        posts: []\n    }\n\n    componentDidMount() {\n        fetch('http://localhost:3001/posts')\n            .then(response => response.json())\n            .then(data => {\n                this.setState({ posts: data });\n            })\n            .catch(error => {\n                console.error('Error al obtener los posts:', error);\n            });\n    }\n\n    render(){\n        const publicarPost = (post) => {\n            fetch('http://localhost:3001/publicarPost', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(post),\n            }).then(response => response.json())\n            .then(data => {\n                var newPosts = [data, ...this.state.posts];\n                this.setState({posts: newPosts})\n                alert('Post publicado correctamente')\n            })\n            .catch(error => {\n                console.error('Error al publicar el post:', error);\n            });\n    \n        }\n\n        return(\n            <div className=\"pagina-principal\">\n                <Posts posts={this.state.posts}/>\n                <FormularioPublicar\n                publicarPost={publicarPost} />\n            </div>\n        )\n    }\n}\n\nexport default PaginaPrincipal"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,OAAO,uBAAuB;AAC9B,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,kBAAkB,MAAM,0CAA0C;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzE,MAAMC,eAAe,SAASL,SAAS,CAAC;EAAAM,YAAA;IAAA,SAAAC,SAAA;IAAA,KACpCC,KAAK,GAAG;MACJC,KAAK,EAAE;IACX,CAAC;EAAA;EAEDC,iBAAiBA,CAAA,EAAG;IAChBC,KAAK,CAAC,6BAA6B,CAAC,CAC/BC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAI;MACV,IAAI,CAACC,QAAQ,CAAC;QAAEP,KAAK,EAAEM;MAAK,CAAC,CAAC;IAClC,CAAC,CAAC,CACDE,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD,CAAC,CAAC;EACV;EAEAE,MAAMA,CAAA,EAAE;IACJ,MAAMC,YAAY,GAAIC,IAAI,IAAK;MAC3BX,KAAK,CAAC,oCAAoC,EAAE;QACxCY,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;MAC7B,CAAC,CAAC,CAACV,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAACG,IAAI,IAAI;QACV,IAAIa,QAAQ,GAAG,CAACb,IAAI,EAAE,GAAG,IAAI,CAACP,KAAK,CAACC,KAAK,CAAC;QAC1C,IAAI,CAACO,QAAQ,CAAC;UAACP,KAAK,EAAEmB;QAAQ,CAAC,CAAC;QAChCC,KAAK,CAAC,8BAA8B,CAAC;MACzC,CAAC,CAAC,CACDZ,KAAK,CAACC,KAAK,IAAI;QACZC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MACtD,CAAC,CAAC;IAEN,CAAC;IAED,oBACId,OAAA;MAAK0B,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC7B3B,OAAA,CAACH,KAAK;QAACQ,KAAK,EAAE,IAAI,CAACD,KAAK,CAACC;MAAM;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,eACjC/B,OAAA,CAACF,kBAAkB;QACnBmB,YAAY,EAAEA;MAAa;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CAAC;EAEd;AACJ;AAEA,eAAe9B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}